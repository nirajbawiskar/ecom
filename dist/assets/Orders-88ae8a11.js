import{r as d,D as h,E as o,n as x,j as e,B as u}from"./index-17db9675.js";import{C as j}from"./Container-49a8a690.js";import{T as p,f as m}from"./format-8f3fbf2b.js";const g=()=>{const[t,l]=d.useState({limit:1,skip:0}),[i,{data:a}]=h(),[n,{isSuccess:c}]=o();return d.useEffect(()=>{i(t)},[t]),d.useEffect(()=>{c&&x.success("status update success")},[c]),e.jsxs(j,{children:[e.jsxs("select",{class:"form-select my-3",onChange:s=>l({...t,limit:s.target.value}),children:[e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"})]}),a&&e.jsxs(p,{className:"table table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"order id"}),e.jsx("th",{children:"address"}),e.jsx("th",{children:"city"}),e.jsx("th",{children:"payment"}),e.jsx("th",{children:"products"}),e.jsx("th",{children:"status"}),e.jsx("th",{children:"order on"})]})}),e.jsx("tbody",{children:a.result.map(s=>e.jsxs("tr",{className:`
                        ${s.status==="delivered"&&"table-success"}
                        ${s.status==="cancel"&&"table-danger"}
                        `,children:[e.jsx("td",{children:s._id}),e.jsx("td",{children:s.address}),e.jsx("td",{children:s.city}),e.jsx("td",{children:s.payment}),e.jsx("td",{children:s.products.map(r=>e.jsxs("div",{className:"d-flex gap-3",children:[e.jsx("img",{src:r.hero[0],height:50,alt:""}),e.jsx("h6",{children:r.name}),e.jsxs("h6",{children:["price: ",r.price]})]}))}),e.jsx("td",{children:e.jsxs("select",{onChange:r=>n({_id:s._id,status:r.target.value}),name:"",id:"",value:s.status,className:"form-control",children:[e.jsx("option",{value:"palced",children:"palced"}),e.jsx("option",{value:"delivered",children:"delivered"}),e.jsx("option",{value:"cancel",children:"cancel"})]})}),e.jsx("td",{children:m(s.createdAt,"dd-MM-yyyy")})]}))})]}),a&&[...Array(Math.ceil(a.total/t.limit)).keys()].map(s=>e.jsx(u,{className:"me-1",onClick:r=>l({...t,skip:s*t.limit}),children:s+1}))]})};export{g as default};
